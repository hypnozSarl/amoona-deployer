apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - infra
  - monitoring
  - apps
  - security
  # ingress - removed, using Traefik IngressRoutes in overlays instead
  # Components with their own namespaces - deploy separately:
  # - cert-manager      -> kubectl apply -k k8s/base/cert-manager
  # - traefik           -> kubectl apply -f k8s/base/traefik/postgres-entrypoint.yaml
  # - security-scanning -> kubectl apply -k k8s/base/security-scanning (trivy-system namespace)
  # - service-mesh      -> kubectl apply -k k8s/base/service-mesh (linkerd namespace)
  # - audit-logging     -> kubectl apply -k k8s/base/audit-logging (falco namespace)